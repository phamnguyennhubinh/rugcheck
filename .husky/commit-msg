#!/bin/sh
# This hook is used to validate the commit message format

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")

# Check if commit message starts with (feat/chores/update/bug/build):
if ! echo "$commit_msg" | grep -qE "^(feat|chores|update|bug|build|fix):.+"; then
  echo ""
  echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
  echo "â•‘                 ğŸš« COMMIT MESSAGE ERROR ğŸš«                    â•‘"
  echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
  echo ""
  echo "  Your commit message must follow the required format:"
  echo ""
  echo "    ğŸ‘‰ (feat|chores|update|bug|build): Your message"
  echo ""
  echo "  Examples:"
  echo "    âœ… feat: add user authentication"
  echo "    âœ… bug: fix validation error in login form"
  echo "    âœ… update: improve loading performance"
  echo "    âœ… chores: update dependencies"
  echo "    âœ… build: configure CI pipeline"
  echo ""
  echo "  Your commit message was:"
  echo "    âŒ $commit_msg"
  echo ""
  echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
  echo "â•‘              ğŸ‘† Please fix and try again ğŸ‘†                  â•‘"
  echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
  echo ""
  exit 1
fi
